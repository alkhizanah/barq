const SYS_write = 1;

fn syscall3(code usize, arg1 usize, arg2 usize, arg3 usize) usize {
    return asm {
        "syscall"
        : "={rax}" (u64)
        : "{rax}" (code),
          "{rdi}" (arg1),
          "{rsi}" (arg2),
          "{rdx}" (arg3),
        : "rcx", "r11", "memory"
    };
}

const STDOUT = 1;

fn main() {
    syscall3(SYS_write, STDOUT, "Hello, World!\n" as usize, 14);
}
